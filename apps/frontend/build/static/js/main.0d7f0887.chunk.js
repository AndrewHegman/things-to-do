(this["webpackJsonp@ttd/app"]=this["webpackJsonp@ttd/app"]||[]).push([[0],{110:function(e,t,n){"use strict";function r(e,t){return Object.keys(e).forEach((function(n){"default"===n||Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),e}Object.defineProperty(t,"__esModule",{value:!0}),r(n(406),t),r(n(407),t)},170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagFields=t.CategoryFields=t.ThingFields=t.Collections=void 0,function(e){e.Things="things",e.Categories="categories",e.Tags="tags"}(t.Collections||(t.Collections={})),function(e){e.ID="_id",e.Name="name",e.Tags="tags"}(t.ThingFields||(t.ThingFields={})),function(e){e.ID="_id",e.Name="name",e.Things="things"}(t.CategoryFields||(t.CategoryFields={})),function(e){e.ID="_id",e.Name="name",e.Category="category"}(t.TagFields||(t.TagFields={}))},195:function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function c(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.connection=void 0;var a=n(131);o(n(592)).default.config({path:"".concat(e.cwd(),"/../../.env")});var c=function(){function e(){}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getDb=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:if(this.dbConnection)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,a.MongoClient.connect("mongodb+srv://admin:".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).DATABASE_PW,"@inventory.fcghx.mongodb.net/test"))];case 2:return e=n.sent(),this.dbConnection=e.db("Things-To-Do"),console.log("Successfully connected to MongoDB."),[3,4];case 3:throw t=n.sent(),new Error("Error connecting to database: ".concat(t));case 4:return[2,this.dbConnection]}}))}))},e}();t.connection=c.getInstance()}).call(this,n(30))},235:function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryLookup=t.ThingLookup=t.TagLookup=t.ReplaceIdField=void 0;var i=n(170);t.ReplaceIdField=[{$addFields:{id:"$_id"}},{$project:{_id:0}}];t.TagLookup=function(e){return void 0===e&&(e=[]),[{$lookup:{from:i.Collections.Tags,localField:i.ThingFields.Tags,foreignField:i.TagFields.ID,as:i.ThingFields.Tags,pipeline:r(r([],t.ReplaceIdField,!0),e,!0)}}]};t.ThingLookup=function(e){return void 0===e&&(e=[]),[{$lookup:{from:i.Collections.Things,localField:i.CategoryFields.Things,foreignField:i.ThingFields.ID,as:i.CategoryFields.Things,pipeline:r(r([],(0,t.TagLookup)(),!0),e,!0)}}]};t.CategoryLookup=function(e){return void 0===e&&(e=[]),[{$lookup:{from:i.Collections.Categories,localField:"category",foreignField:i.CategoryFields.ID,as:"category",pipeline:r(r([],t.ReplaceIdField,!0),e,!0)}},{$unwind:"$category"}]}},396:function(e,t,n){},406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{CreateTagDocument:function(){return v},useCreateTagMutation:function(){return x},CreateThingDocument:function(){return m},useCreateThingMutation:function(){return O},GetCategoriesDocument:function(){return w},useGetCategoriesQuery:function(){return T},useGetCategoriesLazyQuery:function(){return C},GetCategoryDocument:function(){return I},useGetCategoryQuery:function(){return S},useGetCategoryLazyQuery:function(){return k},TagsByCategoryDocument:function(){return _},useTagsByCategoryQuery:function(){return D},useTagsByCategoryLazyQuery:function(){return E},GetTagsDocument:function(){return L},useGetTagsQuery:function(){return F},useGetTagsLazyQuery:function(){return M},GetThingsTagsCategoriesDocument:function(){return P},useGetThingsTagsCategoriesQuery:function(){return A},useGetThingsTagsCategoriesLazyQuery:function(){return $},UpdateThingDocument:function(){return B},useUpdateThingMutation:function(){return R},typeDefs:function(){return Q}});var r=a(n(236));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=i?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(r,a,c):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function u(){var e=s(["\n    mutation CreateTag($category: String!, $name: String!) {\n  createTag(category: $category, name: $name) {\n    id\n    name\n    category {\n      id\n      name\n    }\n  }\n}\n    "]);return u=function(){return e},e}function l(){var e=s(["\n    mutation CreateThing($name: String!, $description: String!, $tags: [String!]!, $category: String!) {\n  createThing(\n    name: $name\n    description: $description\n    tags: $tags\n    category: $category\n  ) {\n    id\n    name\n    description\n    category {\n      id\n      name\n    }\n    tags {\n      id\n      name\n    }\n  }\n}\n    "]);return l=function(){return e},e}function g(){var e=s(["\n    query GetCategories {\n  categories {\n    id\n    name\n  }\n}\n    "]);return g=function(){return e},e}function f(){var e=s(["\n    query GetCategory($categoryId: String!) {\n  category(categoryId: $categoryId) {\n    id\n    name\n  }\n}\n    "]);return f=function(){return e},e}function d(){var e=s(["\n    query TagsByCategory($categoryId: String!) {\n  tagsByCategory(categoryId: $categoryId) {\n    id\n    name\n    category {\n      id\n      name\n    }\n  }\n}\n    "]);return d=function(){return e},e}function h(){var e=s(["\n    query GetTags {\n  tags {\n    id\n    name\n    category {\n      id\n      name\n    }\n  }\n}\n    "]);return h=function(){return e},e}function p(){var e=s(["\n    query GetThingsTagsCategories {\n  categories {\n    id\n    name\n  }\n  tags {\n    id\n    name\n    category {\n      id\n      name\n    }\n  }\n  things {\n    id\n    name\n    description\n    tags {\n      id\n      name\n      category {\n        id\n        name\n      }\n    }\n    category {\n      id\n      name\n    }\n  }\n}\n    "]);return p=function(){return e},e}function y(){var e=s(["\n    mutation UpdateThing($id: String!, $name: String!, $description: String!, $tags: [String!]!, $category: String!) {\n  updateThing(\n    id: $id\n    name: $name\n    description: $description\n    tags: $tags\n    category: $category\n  ) {\n    id\n    name\n    description\n    category {\n      id\n      name\n    }\n    tags {\n      id\n      name\n    }\n  }\n}\n    "]);return y=function(){return e},e}function b(){var e=s(["schema{query:Query mutation:Mutation}type Category{id:String!name:String!}type Mutation{createTag(category:String!name:String!):Tag!createThing(category:String!description:String!name:String!tags:[String!]!):Thing!updateThing(category:String!description:String!id:String!name:String!tags:[String!]!):Thing!}type Query{categories:[Category!]!category(categoryId:String!):Category!tags:[Tag!]!tagsByCategory(categoryId:String!):[Tag!]!things:[Thing!]!}type Tag{category:Category!id:String!name:String!}type Thing{category:Category!description:String!id:String!name:String!tags:[Tag!]!}"]);return b=function(){return e},e}var j={},v=(0,r.gql)(u());function x(e){var t=c({},j,e);return r.useMutation(v,t)}var m=(0,r.gql)(l());function O(e){var t=c({},j,e);return r.useMutation(m,t)}var w=(0,r.gql)(g());function T(e){var t=c({},j,e);return r.useQuery(w,t)}function C(e){var t=c({},j,e);return r.useLazyQuery(w,t)}var I=(0,r.gql)(f());function S(e){var t=c({},j,e);return r.useQuery(I,t)}function k(e){var t=c({},j,e);return r.useLazyQuery(I,t)}var _=(0,r.gql)(d());function D(e){var t=c({},j,e);return r.useQuery(_,t)}function E(e){var t=c({},j,e);return r.useLazyQuery(_,t)}var L=(0,r.gql)(h());function F(e){var t=c({},j,e);return r.useQuery(L,t)}function M(e){var t=c({},j,e);return r.useLazyQuery(L,t)}var P=(0,r.gql)(p());function A(e){var t=c({},j,e);return r.useQuery(P,t)}function $(e){var t=c({},j,e);return r.useLazyQuery(P,t)}var B=(0,r.gql)(y());function R(e){var t=c({},j,e);return r.useMutation(B,t)}var Q=(0,r.gql)(b())},407:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolvers",{enumerable:!0,get:function(){return s}});var r=n(408);function i(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function c(e){i(a,r,o,c,s,"next",e)}function s(e){i(a,r,o,c,s,"throw",e)}c(void 0)}))}}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},s={Query:{categories:o((function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,r.Categories.getInstance().getAll()];case 1:return e=t.sent(),console.log(e),[2,e]}}))})),category:function(){var e=o((function(e,t){return c(this,(function(e){switch(e.label){case 0:return[4,r.Categories.getInstance().getById(t.categoryId)];case 1:return[2,e.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),tagsByCategory:function(){var e=o((function(e,t){var n;return c(this,(function(e){switch(e.label){case 0:return[4,r.Tags.getInstance().getByCategoryId(t.categoryId)];case 1:return n=e.sent(),console.log(n),[2,n]}}))}));return function(t,n){return e.apply(this,arguments)}}(),tags:o((function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,r.Tags.getInstance().getAll()];case 1:return e=t.sent(),console.log(null===e||void 0===e?void 0:e.map((function(e){return e.category}))),[2,e]}}))})),things:o((function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,r.Things.getInstance().getAll()];case 1:return e=t.sent(),console.log(e[0]),[2,e]}}))}))},Mutation:{createTag:function(){var e=o((function(e,t){return c(this,(function(e){switch(e.label){case 0:return[4,r.Tags.getInstance().create(t)];case 1:return[2,e.sent()]}}))}));return function(t,n){return e.apply(this,arguments)}}(),createThing:function(){var e=o((function(e,t){var n;return c(this,(function(e){switch(e.label){case 0:return[4,r.Things.getInstance().create(t)];case 1:return n=e.sent(),console.log(n),[2,n]}}))}));return function(t,n){return e.apply(this,arguments)}}(),updateThing:function(){var e=o((function(e,t){var n,i;return c(this,(function(e){switch(e.label){case 0:return n=t.id,a(t,["id"]),[4,r.Things.getInstance().update(n,t)];case 1:return i=e.sent(),console.log(i),[2,i]}}))}));return function(t,n){return e.apply(this,arguments)}}()}}},408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tags=t.Categories=t.Things=void 0;var r=n(409);Object.defineProperty(t,"Things",{enumerable:!0,get:function(){return r.Things}});var i=n(593);Object.defineProperty(t,"Categories",{enumerable:!0,get:function(){return i.Categories}});var o=n(594);Object.defineProperty(t,"Tags",{enumerable:!0,get:function(){return o.Tags}})},409:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function c(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Things=void 0;var c=n(195),s=n(131),u=n(170),l=n(235),g=function(){function e(){this.db=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getDb=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.db?[3,2]:(e=this,[4,c.connection.getDb()]);case 1:e.db=t.sent().collection(u.Collections.Things),t.label=2;case 2:return[2,this.db]}}))}))},e.prototype.getAll=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:if(e)throw new Error("Error -- fetching Things by category has not been implemented!");n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getDb()];case 2:return[2,n.sent().aggregate(a(a(a([],l.ReplaceIdField,!0),(0,l.TagLookup)((0,l.CategoryLookup)()),!0),(0,l.CategoryLookup)(),!0)).toArray()];case 3:throw t=n.sent(),new Error("Error when fetching Things. ".concat(t));case 4:return[2]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getDb()];case 1:return[2,n.sent().aggregate(a(a(a([{$match:{_id:new s.ObjectId(e)}}],l.ReplaceIdField,!0),(0,l.CategoryLookup)(),!0),(0,l.TagLookup)(),!0)).next()];case 2:throw t=n.sent(),new Error("Error when fetching Thing. ".concat(t));case 3:return[2]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.getDb()];case 1:return[4,o.sent().findOneAndUpdate({_id:new s.ObjectId(e)},{$set:r(r({},t),{tags:t.tags.map((function(e){return new s.ObjectId(e)})),category:new s.ObjectId(t.category)})},{upsert:!1})];case 2:if((n=o.sent()).ok)return[2,this.getById(e)];throw n.lastErrorObject;case 3:throw i=o.sent(),new Error("Error when updating Thing. ".concat(i));case 4:return[2]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.getDb()];case 1:return[4,i.sent().insertOne(r(r({},e),{tags:e.tags.map((function(e){return new s.ObjectId(e)})),category:new s.ObjectId(e.category)}))];case 2:return(t=i.sent()).acknowledged?[2,this.getById(t.insertedId.toString())]:[3,4];case 3:throw n=i.sent(),new Error("Error when creating new Thing. ".concat(n));case 4:return[2]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,this.getDb()];case 1:return[4,n.sent().deleteOne({_id:e})];case 2:return n.sent(),[4,this.getDb()];case 3:return[2,n.sent().find({}).toArray()];case 4:throw t=n.sent(),new Error("Error when deleting Thing. ".concat(t));case 5:return[2]}}))}))},e}();t.Things=g},414:function(e,t){},416:function(e,t){},425:function(e,t){},427:function(e,t){},452:function(e,t){},453:function(e,t){},458:function(e,t){},460:function(e,t){},467:function(e,t){},486:function(e,t){},513:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=513},593:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function c(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Categories=void 0;var a=n(195),c=n(131),s=n(170),u=n(235),l=function(){function e(){this.categoryQuery=o(o([],u.ReplaceIdField,!0),(0,u.ThingLookup)(),!0),this.db=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getDb=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this.db?[3,2]:(e=this,[4,a.connection.getDb()]);case 1:e.db=t.sent().collection(s.Collections.Categories),t.label=2;case 2:return[2,this.db]}}))}))},e.prototype.getAll=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.getDb()];case 1:return[2,t.sent().aggregate(this.categoryQuery).toArray()];case 2:return e=t.sent(),console.error("Error when fetching Categories. ".concat(e)),[3,3];case 3:return[2]}}))}))},e.prototype.getById=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getDb()];case 1:return[2,n.sent().aggregate(o([{$match:{_id:new c.ObjectId(e)}}],this.categoryQuery,!0)).next()];case 2:throw t=n.sent(),new Error("Error when fetching Category. ".concat(t));case 3:return[2]}}))}))},e.prototype.update=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.getDb()];case 1:return[4,r.sent().findOneAndUpdate({_id:new c.ObjectId(e)},{$set:t},{upsert:!1})];case 2:return r.sent(),[2,this.getAll()];case 3:throw n=r.sent(),new Error("Error when updating Category. ".concat(n));case 4:return[2]}}))}))},e.prototype.create=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getDb()];case 1:return[2,n.sent().insertOne(e)];case 2:throw t=n.sent(),new Error("Error when creating new Category. ".concat(t));case 3:return[2]}}))}))},e.prototype.delete=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,this.getDb()];case 1:return[4,n.sent().deleteOne({_id:new c.ObjectId(e)})];case 2:return n.sent(),[4,this.getDb()];case 3:return[2,n.sent().find({}).toArray()];case 4:throw t=n.sent(),new Error("Error when deleting Category. ".concat(t));case 5:return[2]}}))}))},e}();t.Categories=l},594:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function c(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(c){o=[6,c],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Tags=void 0;var c=n(195),s=n(131),u=n(170),l=n(235),g=function(){function e(){this.db=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getDb=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.db?[3,2]:(e=this,[4,c.connection.getDb()]);case 1:e.db=t.sent().collection(u.Collections.Tags),t.label=2;case 2:return[2,this.db]}}))}))},e.prototype.getAll=function(){return i(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.getDb()];case 1:return[2,t.sent().aggregate(a(a([],l.ReplaceIdField,!0),(0,l.CategoryLookup)(),!0)).toArray()];case 2:return e=t.sent(),console.error("Error when fetching Tags. ".concat(e)),[3,3];case 3:return[2]}}))}))},e.prototype.getById=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getDb()];case 1:return[2,n.sent().aggregate(a(a([{$match:{_id:new s.ObjectId(e)}}],l.ReplaceIdField,!0),(0,l.CategoryLookup)(),!0)).next()];case 2:throw t=n.sent(),new Error("Error when fetching Tag. ".concat(t));case 3:return[2]}}))}))},e.prototype.getByCategoryId=function(e){return i(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getDb()];case 1:return[2,r.sent().aggregate(a(a([{$match:(n={},n[u.TagFields.Category]=new s.ObjectId(e),n)}],l.ReplaceIdField,!0),(0,l.CategoryLookup)(),!0)).toArray()];case 2:throw t=r.sent(),new Error("Error when fetching Tags by Category. ".concat(t));case 3:return[2]}}))}))},e.prototype.update=function(e,t){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this.getDb()];case 1:return[4,r.sent().findOneAndUpdate({_id:e},{$set:t},{upsert:!1})];case 2:return r.sent(),[2,this.getAll()];case 3:throw n=r.sent(),new Error("Error when updating Tag. ".concat(n));case 4:return[2]}}))}))},e.prototype.create=function(e){return i(this,void 0,void 0,(function(){var t,n;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.getDb()];case 1:return[4,i.sent().insertOne(r(r({},e),{category:new s.ObjectId(e.category)}),{})];case 2:return(t=i.sent()).acknowledged?[2,this.getById(t.insertedId.toString())]:[3,4];case 3:throw n=i.sent(),new Error("Error when creating new Tag. ".concat(n));case 4:return[2]}}))}))},e.prototype.delete=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,this.getDb()];case 1:return[4,n.sent().deleteOne({_id:e})];case 2:return n.sent(),[4,this.getDb()];case 3:return[2,n.sent().find({}).toArray()];case 4:throw t=n.sent(),new Error("Error when deleting Tag. ".concat(t));case 5:return[2]}}))}))},e}();t.Tags=g},595:function(e,t,n){"use strict";n.r(t);var r,i=n(13),o=n(52),a=n(0),c=n.n(a),s=n(362),u=n.n(s),l=(n(396),n(667)),g=n(671),f=n(6),d=n(664),h=n(666),p=n(1),y=Object(f.a)("div")((function(e){return e.theme.mixins.toolbar})),b=function(e){var t=e.toolbarSx,n=e.onLeftLinkClick,r=e.leftLinkTitle,i=e.onRightLinkClick,a=e.rightLinkTitle,c=e.title;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{children:Object(p.jsxs)(h.a,{sx:Object(o.a)({justifyContent:"center"},t),disableGutters:!0,children:[n&&Object(p.jsx)(l.a,{sx:{position:"absolute",left:"10px"},onClick:n,children:r}),Object(p.jsx)(l.a,{fontSize:28,children:c||"Things to Do"}),i&&Object(p.jsx)(l.a,{sx:{position:"absolute",right:"10px"},onClick:i,children:a})]})}),Object(p.jsx)(y,{sx:{marginTop:"10px"}})]})},j=n(668),v=n(660),x=n(641),m=n(25),O=n(364),w=n.n(O),T=function(e){return{categories:[],setCategories:function(t){return e({categories:t})},currentCategory:null,setCurrentCategory:function(t){return e({currentCategory:t})}}},C=n(29);!function(e){e.Loading="loading",e.Error="error"}(r||(r={}));var I=function(e){return{modals:[],message:"",openModal:function(t,n){return e((function(e){var r=e.modals;return r.findIndex((function(e){return e===t}))>=0?(console.warn("-WARNING- '".concat(t,"' modal is already opened, not opening another")),{modals:r,message:n}):{modals:[].concat(Object(C.a)(r),[t]),message:n}}))},closeModal:function(t){return e((function(e){var n=e.modals,r=n.findIndex((function(e){return e===t}));return r<0?(console.warn("-WARNING- '".concat(t,"' modal is not opened, not closing anything")),{modals:n}):{modals:[].concat(Object(C.a)(n.slice(0,r)),Object(C.a)(n.slice(r+1)))}}))},closeAllModals:function(){return e({modals:[],message:""})}}},S=function(e){return{tags:[],setTags:function(t){return e({tags:t})}}},k=function(e){return{things:[],setThings:function(t){return console.log("wtf"),e({things:t})},currentThing:null,setCurrentThing:function(t){return e({currentThing:t})}}},_=w()()((function(){return Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({},T.apply(void 0,arguments)),I.apply(void 0,arguments)),S.apply(void 0,arguments)),k.apply(void 0,arguments))})),D=function(e){var t=e.category,n=Object(m.f)(),r=_(),i=r.setCurrentCategory,o=r.things,a=c.a.useMemo((function(){return o.filter((function(e){return e.category.id===t.id}))}),[o,t]);return Object(p.jsxs)(j.a,{sx:{display:"flex",alignItems:"center",margin:"2% 5% 2% 5%"},onClick:function(){i(t),n("category/".concat(t.id),{state:{category:t}})},children:[Object(p.jsx)(x.a,{sx:{color:"primary.main",width:"30px",height:"30px",marginRight:"10px"}}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",alignItems:"center"},children:[Object(p.jsx)(l.a,{fontSize:"24px",height:"100%",children:t.name}),Object(p.jsx)(v.a,{sx:{width:"30px",height:"30px"},children:a.length})]})]})},E=n(661),L=n(670),F=function(){var e=_(),t=e.modals,n=e.message;return Object(p.jsx)(E.a,{open:t.includes(r.Loading),children:Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(L.a,{sx:{margin:"30px 15px 15px 15px"},size:60,color:"secondary"}),Object(p.jsx)(l.a,{sx:{margin:"15px"},fontSize:24,children:n||"Loading, please wait"})]})})},M=function(e){var t=_();t.modals,t.closeModal;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(F,{}),e.children]})},P=function(e){var t=_().categories;return Object(p.jsxs)(M,{children:[Object(p.jsx)(b,{}),Object(p.jsx)(l.a,{sx:{marginLeft:"5px"},fontSize:32,children:"Categories"}),t.map((function(e,n){return Object(p.jsxs)("div",{style:{margin:"0 10% 0 10%"},children:[Object(p.jsx)(D,{category:e}),t.length>1&&n<t.length-1?Object(p.jsx)(g.a,{}):null]},e.id)}))]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,676)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},$=n(370),B=n(653),R=n(371),Q=n(663),G=n(654),z=n(655),q=n(662),N=n(672),U=n(658),W=n(649),H=n(673),K=n(674),J=n(647),V=n(646),X=function(e){var t=e.tag,n=e.sx,r=e.onClose,a=e.active,s=e.onClick,u=e.creating,g=e.onBlur,f=c.a.useRef(null),d=c.a.useState(""),h=Object(i.a)(d,2);h[0],h[1];return c.a.useEffect((function(){f.current&&f.current.focus()}),[f]),Object(p.jsx)(j.a,{fontSize:14,onClick:function(){return s&&s()},sx:Object(o.a)({borderWidth:"2px",borderStyle:"solid",borderColor:a||u?"secondary.main":"primary.main",display:"flex",padding:"0px 5px 0px 5px",borderRadius:"8px"},n),children:u?Object(p.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:Object(p.jsx)(l.a,{sx:{whiteSpace:"nowrap"},color:"secondary.main",suppressContentEditableWarning:!0,contentEditable:!0,ref:f,onChange:function(e){return console.log(e)},onBlur:function(){return g&&g(f.current.textContent||"")}})}):Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)(l.a,{sx:{whiteSpace:"nowrap"},color:a?"secondary.main":"text.primary",children:t.name}),r&&Object(p.jsx)(V.a,{onClick:function(){return r(t)}})]})})},Y=function(e){var t=e.thing,n=e.onClickMore;return Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:"10px",position:"relative"},draggable:!0,children:[Object(p.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(p.jsx)(x.a,{sx:{color:"primary.main",width:"30px",height:"30px",marginRight:"10px"}}),Object(p.jsx)(l.a,{fontSize:24,children:t.name}),Object(p.jsx)("div",{style:{marginLeft:"auto"},children:Object(p.jsx)(J.a,{sx:{marginRight:"25px"},onClick:function(e){e.preventDefault(),n&&n()}})})]}),Object(p.jsx)(l.a,{children:t.description}),Object(p.jsx)("div",{style:{display:"flex",gap:"10px"},children:t.tags.map((function(e){return Object(p.jsx)(X,{tag:e},e.id)}))})]})},Z=n(648),ee=n(650),te=function(e){var t=e.loading,n=Object(m.g)().categoryId,o=_(),a=o.categories,s=o.openModal,u=o.currentCategory,f=o.setCurrentCategory,d=o.closeModal,h=o.tags,y=o.things,j=o.setCurrentThing,v=c.a.useState(""),x=Object(i.a)(v,2),O=x[0],w=x[1],T=c.a.useState([]),I=Object(i.a)(T,2),S=I[0],k=I[1],D=c.a.useState(!1),E=Object(i.a)(D,2),L=E[0],F=E[1],P=c.a.useState(!1),A=Object(i.a)(P,2),$=A[0],B=A[1],R=Object(m.f)(),Q=c.a.useRef(null),G=c.a.useMemo((function(){return h&&u?h.filter((function(e){return(null===u||void 0===u?void 0:u.id)===e.id})):[]}),[h,u]),J=c.a.useMemo((function(){return y&&u?y.filter((function(e){return u.id===e.category.id})):[]}),[y,u]);c.a.useEffect((function(){t?s(r.Loading):d(r.Loading)}),[t]),c.a.useEffect((function(){if(a&&!t){var e=a.find((function(e){return e.id===n}));e?f(e):R("/error/not-found")}}),[a,n,t]);var V=function(e){var t=S.findIndex((function(t){return t.id===e.id}));k([].concat(Object(C.a)(S.slice(0,t)),Object(C.a)(S.slice(t+1))))};return Object(p.jsxs)(M,{children:[Object(p.jsx)(b,{onLeftLinkClick:function(){return L?F(!1):R("/")},leftLinkTitle:"Back",onRightLinkClick:L?function(){return F(!1)}:void 0,rightLinkTitle:"Done",title:null===u||void 0===u?void 0:u.name}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:"10px"},children:[Object(p.jsx)(z.a,{variant:"outlined",size:"small",sx:{margin:"0 10px 15px 0",borderRadius:"15px"},value:O,onChange:function(e){return w(e.target.value)},onFocus:function(){return F(!0)},InputProps:{startAdornment:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z.a,{sx:{color:"primary.main"}}),S.map((function(e){return Object(p.jsx)(X,{tag:e,sx:{color:"primary.main"},onClose:V},e.id)}))]})},ref:Q}),!L&&(S.length>0?J.filter((function(e){return S.every((function(t){return e.tags.findIndex((function(e){return e.id===t.id}))>=0}))}))||[]:J||[]).map((function(e,t){return Object(p.jsxs)("div",{style:{marginBottom:"10px"},children:[Object(p.jsx)(Y,{thing:e,onClickMore:function(){return function(e){j(e),B(!0)}(e)}}),J.length>1&&t<J.length-1?Object(p.jsx)(g.a,{sx:{marginRight:"20px"}}):null]},e.id)})),L&&(G.filter((function(e){return S.findIndex((function(t){return t.id===e.id}))<0}))||[]).filter((function(e){return e.name.toLowerCase().includes(O.toLowerCase())})).map((function(e,t){return Object(p.jsxs)("div",{style:{marginBottom:"10px"},onClick:function(){return function(e){k([].concat(Object(C.a)(S),[e])),w("")}(e)},children:[Object(p.jsx)(l.a,{children:e.name}),G.length>1&&t<G.length-1?Object(p.jsx)(g.a,{sx:{marginRight:"20px"}}):null]},e.name)}))]}),Object(p.jsx)(q.a,{open:$,anchor:"bottom",onClose:function(){return B(!1)},children:Object(p.jsxs)(N.a,{children:[Object(p.jsx)(U.a,{disablePadding:!0,children:Object(p.jsx)(W.a,{children:Object(p.jsx)(H.a,{primary:"Edit",onClick:function(){return R("create")}})})}),Object(p.jsx)(U.a,{disablePadding:!0,children:Object(p.jsx)(W.a,{children:Object(p.jsx)(H.a,{primary:"Delete",secondary:"Secondary text"})})})]})}),Object(p.jsx)(K.a,{color:"secondary",sx:{position:"fixed",right:"10px",bottom:"10px"},onClick:function(){return R("create")},children:Object(p.jsx)(ee.a,{})})]})},ne=function(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(b,{children:"Things to Do"}),"Not found"]})},re=n(359),ie=n(657),oe=new re.a({uri:"http://192.168.4.42:4000/",cache:new ie.a}),ae=n(110),ce=function(e){var t=Object(m.f)(),n=(Object(m.g)().categoryId,e.thing),s=_(),u=s.currentCategory,g=s.tags,f=s.setTags,d=s.openModal,h=s.closeModal,y=s.setCurrentThing,j=Object(ae.useCreateTagMutation)(),v=Object(i.a)(j,2),x=v[0],O=v[1],w=O.data,T=O.loading,I=(O.error,O.called),S=O.reset,k=Object(ae.useCreateThingMutation)(),D=Object(i.a)(k,2),E=D[0],L=D[1],F=L.data,P=L.loading,A=(L.error,L.called),$=L.reset,B=Object(ae.useUpdateThingMutation)(),R=Object(i.a)(B,2),Q=R[0],G=R[1],q=G.data,N=G.loading,U=(G.error,G.called),W=G.reset,H=c.a.useState((null===n||void 0===n?void 0:n.description)||""),K=Object(i.a)(H,2),J=K[0],V=K[1],Y=c.a.useState((null===n||void 0===n?void 0:n.tags.map((function(e){return e.id})))||[]),Z=Object(i.a)(Y,2),ee=Z[0],te=Z[1],ne=c.a.useState(!1),re=Object(i.a)(ne,2),ie=re[0],oe=re[1],ce=c.a.useState(!1),se=Object(i.a)(ce,2),ue=se[0],le=se[1],ge=c.a.useState((null===n||void 0===n?void 0:n.name)||""),fe=Object(i.a)(ge,2),de=fe[0],he=fe[1],pe=Object(a.useMemo)((function(){return g&&u?g.filter((function(e){return e.category.id===u.id})):[]}),[u,g]);c.a.useEffect((function(){T||P||N?d(r.Loading):h(r.Loading)}),[T,N,P,h,d]),c.a.useEffect((function(){T||w&&I&&(f([].concat(Object(C.a)(g),[w.createTag])),te([].concat(Object(C.a)(ee),[w.createTag.id])),oe(!1),S())}),[T,f,te,I,w,S]),c.a.useEffect((function(){P||F&&A&&(t("../"),$())}),[P,A,F,$,t]),c.a.useEffect((function(){N||q&&U&&(t("../"),W())}));var ye=function(e){var t=ee.findIndex((function(t){return t===e.id}));te(t>-1?function(e,t){return[].concat(Object(C.a)(e.slice(0,t)),Object(C.a)(e.slice(t+1)))}(ee,t):[].concat(Object(C.a)(ee),[e.id]))};return Object(p.jsxs)(M,{children:[Object(p.jsx)(b,{leftLinkTitle:"Back",onLeftLinkClick:function(){y(null),t("../")},title:"Create new Thing",rightLinkTitle:"Save",onRightLinkClick:function(){n?Q({variables:{id:n.id,description:J||n.description,name:de||n.name,tags:ee||n.tags.map((function(e){return e.id})),category:u.id}}):E({variables:{description:J,name:de,tags:ee,category:u.id},update:function(e,t){var n=t.data;e.modify({fields:{things:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=null===n||void 0===n?void 0:n.createThing;e.writeQuery({query:ae.CreateThingDocument,data:Object(o.a)({newThing:r},t)})}}})}})}}),Object(p.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:"15px 25px 0 15px"},children:[Object(p.jsx)(z.a,{variant:"standard",placeholder:"Name",sx:{marginBottom:"40px"},value:de,onChange:function(e){return he(e.target.value)}}),Object(p.jsx)(z.a,{variant:"outlined",placeholder:"Description",multiline:!0,sx:{borderRadius:"6px"},value:J,onChange:function(e){return V(e.target.value)},error:J.length>255}),Object(p.jsx)(l.a,{sx:{alignSelf:"flex-end",color:J.length>255?"error.main":"primary.main"},children:"".concat(J.length," / 255")}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[Object(p.jsx)(l.a,{fontSize:24,children:"Tags"}),Object(p.jsx)(l.a,{fontSize:20,onClick:function(){return oe(!0)},children:"+ Add New"})]}),Object(p.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[pe.map((function(e){return Object(p.jsx)(X,{sx:{marginLeft:"3px",marginRight:"3px",marginBottom:"5px"},tag:e,onClick:function(){return ye(e)},active:ee.includes(e.id)},e.id)})),ie&&Object(p.jsx)(X,{creating:!0,tag:"",sx:{marginLeft:"3px",marginRight:"3px",marginBottom:"5px"},onBlur:function(e){-1!=pe.findIndex((function(t){return t.name===e}))?le(!0):e&&-1===pe.findIndex((function(t){return t.name===e}))?(le(!1),x({variables:{category:u.id,name:e}})):oe(!1)}})]}),ue&&Object(p.jsx)(l.a,{color:"error.main",children:"Tags must be unique!"})]})]})},se=Object(R.a)({typography:{fontFamily:"'Ubuntu Condensed', sans-serif"},components:{MuiAvatar:{styleOverrides:{root:{backgroundColor:"#FF005C",color:"#ffffff"}}},MuiDivider:{styleOverrides:{root:{borderColor:"#5a5a5a"}}},MuiTextField:{styleOverrides:{root:function(e){var t=e.ownerState,n=e.theme,r={border:"1px solid ".concat(n.palette.primary.main)};if("outlined"===t.variant&&!t.error)return t.multiline?r:Object(o.a)(Object(o.a)({},r),{},{background:"#ffffff"})}}},MuiOutlinedInput:{styleOverrides:{notchedOutline:{border:"none"},root:function(e){var t=e.theme;return{"&.Mui-error":{border:"1px solid ".concat(t.palette.error.main)}}}}},MuiInput:{styleOverrides:{root:{borderRadius:"15px !important"},underline:{"::before":{borderBottom:"1px solid #5a5a5a"}}}}},palette:{primary:{main:"#5a5a5a"},secondary:{main:"#FF005C"},error:{main:"#FF4D4D"},background:{default:"#303030",paper:"#303030"},text:{primary:"#ffffff"}}}),ue=function(){var e=_(),t=e.setCategories,n=e.setTags,r=e.setThings,o=e.currentThing,a=Object(ae.useGetThingsTagsCategoriesQuery)(),s=a.loading,u=a.data,l=c.a.useState(s),g=Object(i.a)(l,2),f=g[0],d=g[1];return c.a.useEffect((function(){console.log(u)}),[u]),c.a.useEffect((function(){s?d(!0):u&&(t(u.categories),n(u.tags),r(u.things),d(!1))}),[s,u,t,n,r]),Object(p.jsxs)(Q.a,{theme:se,children:[Object(p.jsx)(G.a,{}),Object(p.jsx)($.a,{children:Object(p.jsxs)(m.c,{children:[Object(p.jsx)(m.a,{path:"/",element:Object(p.jsx)(P,{loading:f})}),Object(p.jsxs)(m.a,{path:"category",children:[Object(p.jsx)(m.a,{index:!0,element:Object(p.jsx)(P,{loading:f})}),Object(p.jsxs)(m.a,{path:":categoryId",children:[Object(p.jsx)(m.a,{element:Object(p.jsx)(te,{loading:f}),index:!0}),Object(p.jsx)(m.a,{path:"create",element:Object(p.jsx)(ce,{thing:o||void 0})})]})]}),Object(p.jsx)(m.a,{path:"/error/not-found",element:Object(p.jsx)(ne,{})}),Object(p.jsx)(m.a,{path:"*",element:Object(p.jsx)(ne,{})})]})})]})};u.a.createRoot(document.getElementById("root")).render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(B.a,{client:oe,children:Object(p.jsx)(ue,{})})})),A()}},[[595,1,2]]]);
//# sourceMappingURL=main.0d7f0887.chunk.js.map