{"version":3,"sources":["../../../packages/graphql/dist/index.js","../../../packages/database/dist/collections.js","../../../packages/database/dist/conn.js","../../../packages/database/dist/aggregations.js","../../../packages/graphql/dist/generated/graphql.js","../../../packages/graphql/dist/resolver.js","../../../packages/database/dist/index.js","../../../packages/database/dist/things.js","../../../node_modules/mongodb/lib sync","../../../packages/database/dist/categories.js","../../../packages/database/dist/tags.js","store/modals.ts","components/AppBar.tsx","store/categories.ts","store/tags.ts","store/things.ts","store/index.ts","components/CategoryItem.tsx","components/LoadingModal.tsx","components/PageWrapper.tsx","pages/Categories.tsx","reportWebVitals.ts","components/Tag.tsx","components/Thing.tsx","pages/Category.tsx","pages/NotFound.tsx","graphql/client.ts","pages/Thing.tsx","utils.ts","index.tsx"],"names":["_exportStar","from","to","Object","keys","forEach","k","prototype","hasOwnProperty","call","defineProperty","enumerable","get","exports","value","require","TagFields","CategoryFields","ThingFields","Collections","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","pop","length","push","__importDefault","mod","__esModule","connection","mongodb_1","default","config","path","concat","process","cwd","Connection","getInstance","instance","getDb","db","err_1","_a","dbConnection","MongoClient","connect","DATABASE_PW","console","log","Error","__spreadArray","pack","arguments","ar","i","l","Array","slice","CategoryLookup","ThingLookup","TagLookup","ReplaceIdField","collections_1","$addFields","id","$project","_id","extraPipelines","$lookup","Tags","localField","foreignField","ID","as","pipeline","Things","Categories","$unwind","target","all","name","_export","CreateTagDocument","useCreateTagMutation","CreateThingDocument","useCreateThingMutation","GetCategoriesDocument","useGetCategoriesQuery","useGetCategoriesLazyQuery","GetCategoryDocument","useGetCategoryQuery","useGetCategoryLazyQuery","TagsByCategoryDocument","useTagsByCategoryQuery","useTagsByCategoryLazyQuery","GetTagsDocument","useGetTagsQuery","useGetTagsLazyQuery","GetThingsTagsCategoriesDocument","useGetThingsTagsCategoriesQuery","useGetThingsTagsCategoriesLazyQuery","UpdateThingDocument","useUpdateThingMutation","typeDefs","_client","_interopRequireWildcard","_defineProperty","obj","key","configurable","writable","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","set","_objectSpread","source","ownKeys","getOwnPropertySymbols","filter","sym","_taggedTemplateLiteral","strings","raw","freeze","defineProperties","_templateObject","data","_templateObject1","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","defaultOptions","gql","baseOptions","options","useMutation","useQuery","useLazyQuery","resolvers","_database","asyncGeneratorStep","gen","_next","_throw","arg","info","error","_asyncToGenerator","fn","self","args","err","undefined","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","Query","categories","res","_state","getAll","category","_ref","getById","categoryId","tagsByCategory","getByCategoryId","tags","map","r","things","Mutation","createTag","create","createThing","updateThing","update","things_1","categories_1","tags_1","__assign","assign","s","p","conn_1","aggregations_1","_b","collection","aggregate","toArray","err_2","$match","ObjectId","updatedThing","updateAttempt","err_3","findOneAndUpdate","$set","tag","upsert","ok","lastErrorObject","thing","insertAttempt","err_4","insertOne","acknowledged","insertedId","toString","delete","err_5","deleteOne","find","webpackEmptyContext","req","code","module","categoryQuery","updatedCategory","Category","updatedTag","err_6","Modal","Offset","styled","theme","mixins","toolbar","AppBar","props","toolbarSx","onLeftLinkClick","leftLinkTitle","onRightLinkClick","rightLinkTitle","title","Toolbar","sx","justifyContent","disableGutters","Typography","position","left","onClick","fontSize","right","marginTop","createCategoriesSlice","setCategories","currentCategory","setCurrentCategory","createModalsSlice","modals","message","openModal","modal","state","findIndex","stateModal","warn","closeModal","idx","closeAllModals","createTagsSlice","setTags","createThingsSlice","setThings","currentThing","setCurrentThing","useStore","CategoryItem","navigate","useNavigate","categoryThings","React","useMemo","Box","display","alignItems","margin","RadioButtonUnchecked","color","width","height","marginRight","style","Avatar","LoadingModal","Dialog","open","includes","Loading","flexDirection","CircularProgress","size","PageWrapper","children","marginLeft","Divider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Tag","onClose","active","creating","onBlur","newTagRef","useRef","useState","useEffect","current","focus","borderWidth","borderStyle","borderColor","padding","borderRadius","whiteSpace","suppressContentEditableWarning","contentEditable","ref","onChange","textContent","HighlightOff","Thing","onClickMore","marginBottom","draggable","MoreHoriz","preventDefault","description","gap","CategoryPage","loading","useParams","searchText","setSearchText","selectedTags","setSelectedTags","searchBoxFocused","setSearchBoxFocused","showMoreDrawer","setShowMoreDrawer","searchBoxRef","categoryTags","_currentCategory","removeSelectedTag","tagIdx","_tag","TextField","variant","onFocus","InputProps","startAdornment","Search","every","selectedTag","toLowerCase","onTagClick","Drawer","anchor","List","ListItem","disablePadding","ListItemButton","ListItemText","primary","secondary","Fab","bottom","Add","NotFound","client","ApolloClient","uri","InMemoryCache","ThingPage","createTagData","createTagLoading","createTagCalled","called","createTagReset","reset","createThingData","createThingLoading","createThingCalled","createThingReset","updateThingData","updateThingLoading","updateThingCalled","updateThingReset","setDescription","createNewTag","setCreateNewTag","showDuplicateTagError","setShowDuplicateTagError","setName","tagId","arr","removeFromArray","variables","modify","fields","existingThings","newThing","writeQuery","query","placeholder","multiline","alignSelf","flexWrap","newTagName","categoryTag","createTheme","typography","fontFamily","components","MuiAvatar","styleOverrides","root","backgroundColor","MuiDivider","MuiTextField","ownerState","styles","border","palette","main","background","MuiOutlinedInput","notchedOutline","MuiInput","underline","borderBottom","paper","text","App","loadingData","setLoadingData","ThemeProvider","CssBaseline","element","index","ReactDOM","createRoot","document","getElementById","render","StrictMode","ApolloProvider"],"mappings":"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","file":"static/js/main.0d7f0887.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n_exportStar(require(\"./generated/graphql\"), exports);\n_exportStar(require(\"./resolver\"), exports);\nfunction _exportStar(from, to) {\n    Object.keys(from).forEach(function(k) {\n        if (k !== \"default\" && !Object.prototype.hasOwnProperty.call(to, k)) Object.defineProperty(to, k, {\n            enumerable: true,\n            get: function() {\n                return from[k];\n            }\n        });\n    });\n    return from;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TagFields = exports.CategoryFields = exports.ThingFields = exports.Collections = void 0;\nvar Collections;\n(function (Collections) {\n    Collections[\"Things\"] = \"things\";\n    Collections[\"Categories\"] = \"categories\";\n    Collections[\"Tags\"] = \"tags\";\n})(Collections = exports.Collections || (exports.Collections = {}));\nvar ThingFields;\n(function (ThingFields) {\n    ThingFields[\"ID\"] = \"_id\";\n    ThingFields[\"Name\"] = \"name\";\n    ThingFields[\"Tags\"] = \"tags\";\n})(ThingFields = exports.ThingFields || (exports.ThingFields = {}));\nvar CategoryFields;\n(function (CategoryFields) {\n    CategoryFields[\"ID\"] = \"_id\";\n    CategoryFields[\"Name\"] = \"name\";\n    CategoryFields[\"Things\"] = \"things\";\n})(CategoryFields = exports.CategoryFields || (exports.CategoryFields = {}));\nvar TagFields;\n(function (TagFields) {\n    TagFields[\"ID\"] = \"_id\";\n    TagFields[\"Name\"] = \"name\";\n    TagFields[\"Category\"] = \"category\";\n})(TagFields = exports.TagFields || (exports.TagFields = {}));\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connection = void 0;\nvar mongodb_1 = require(\"mongodb\");\nvar dotenv_1 = __importDefault(require(\"dotenv\"));\ndotenv_1.default.config({ path: \"\".concat(process.cwd(), \"/../../.env\") });\nvar Connection = /** @class */ (function () {\n    function Connection() {\n    }\n    Connection.getInstance = function () {\n        if (!Connection.instance) {\n            Connection.instance = new Connection();\n        }\n        return Connection.instance;\n    };\n    Connection.prototype.getDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var db, err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!!this.dbConnection) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, mongodb_1.MongoClient.connect(\"mongodb+srv://admin:\".concat(process.env.DATABASE_PW, \"@inventory.fcghx.mongodb.net/test\"))];\n                    case 2:\n                        db = _a.sent();\n                        this.dbConnection = db.db(\"Things-To-Do\");\n                        console.log(\"Successfully connected to MongoDB.\");\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _a.sent();\n                        throw new Error(\"Error connecting to database: \".concat(err_1));\n                    case 4: return [2 /*return*/, this.dbConnection];\n                }\n            });\n        });\n    };\n    return Connection;\n}());\nexports.connection = Connection.getInstance();\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CategoryLookup = exports.ThingLookup = exports.TagLookup = exports.ReplaceIdField = void 0;\nvar collections_1 = require(\"./collections\");\nexports.ReplaceIdField = [\n    {\n        $addFields: {\n            id: \"$_id\",\n        },\n    },\n    {\n        $project: {\n            _id: 0,\n        },\n    },\n];\nvar TagLookup = function (extraPipelines) {\n    if (extraPipelines === void 0) { extraPipelines = []; }\n    return [\n        {\n            $lookup: {\n                from: collections_1.Collections.Tags,\n                localField: collections_1.ThingFields.Tags,\n                foreignField: collections_1.TagFields.ID,\n                as: collections_1.ThingFields.Tags,\n                pipeline: __spreadArray(__spreadArray([], exports.ReplaceIdField, true), extraPipelines, true),\n            },\n        },\n    ];\n};\nexports.TagLookup = TagLookup;\nvar ThingLookup = function (extraPipelines) {\n    if (extraPipelines === void 0) { extraPipelines = []; }\n    return [\n        {\n            $lookup: {\n                from: collections_1.Collections.Things,\n                localField: collections_1.CategoryFields.Things,\n                foreignField: collections_1.ThingFields.ID,\n                as: collections_1.CategoryFields.Things,\n                pipeline: __spreadArray(__spreadArray([], (0, exports.TagLookup)(), true), extraPipelines, true),\n            },\n        },\n    ];\n};\nexports.ThingLookup = ThingLookup;\nvar CategoryLookup = function (extraPipelines) {\n    if (extraPipelines === void 0) { extraPipelines = []; }\n    return [\n        {\n            $lookup: {\n                from: collections_1.Collections.Categories,\n                localField: \"category\",\n                foreignField: collections_1.CategoryFields.ID,\n                as: \"category\",\n                pipeline: __spreadArray(__spreadArray([], exports.ReplaceIdField, true), extraPipelines, true),\n            },\n        },\n        { $unwind: \"$category\" },\n    ];\n};\nexports.CategoryLookup = CategoryLookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _export(target, all) {\n    for(var name in all)Object.defineProperty(target, name, {\n        enumerable: true,\n        get: all[name]\n    });\n}\n_export(exports, {\n    CreateTagDocument: function() {\n        return CreateTagDocument;\n    },\n    useCreateTagMutation: function() {\n        return useCreateTagMutation;\n    },\n    CreateThingDocument: function() {\n        return CreateThingDocument;\n    },\n    useCreateThingMutation: function() {\n        return useCreateThingMutation;\n    },\n    GetCategoriesDocument: function() {\n        return GetCategoriesDocument;\n    },\n    useGetCategoriesQuery: function() {\n        return useGetCategoriesQuery;\n    },\n    useGetCategoriesLazyQuery: function() {\n        return useGetCategoriesLazyQuery;\n    },\n    GetCategoryDocument: function() {\n        return GetCategoryDocument;\n    },\n    useGetCategoryQuery: function() {\n        return useGetCategoryQuery;\n    },\n    useGetCategoryLazyQuery: function() {\n        return useGetCategoryLazyQuery;\n    },\n    TagsByCategoryDocument: function() {\n        return TagsByCategoryDocument;\n    },\n    useTagsByCategoryQuery: function() {\n        return useTagsByCategoryQuery;\n    },\n    useTagsByCategoryLazyQuery: function() {\n        return useTagsByCategoryLazyQuery;\n    },\n    GetTagsDocument: function() {\n        return GetTagsDocument;\n    },\n    useGetTagsQuery: function() {\n        return useGetTagsQuery;\n    },\n    useGetTagsLazyQuery: function() {\n        return useGetTagsLazyQuery;\n    },\n    GetThingsTagsCategoriesDocument: function() {\n        return GetThingsTagsCategoriesDocument;\n    },\n    useGetThingsTagsCategoriesQuery: function() {\n        return useGetThingsTagsCategoriesQuery;\n    },\n    useGetThingsTagsCategoriesLazyQuery: function() {\n        return useGetThingsTagsCategoriesLazyQuery;\n    },\n    UpdateThingDocument: function() {\n        return UpdateThingDocument;\n    },\n    useUpdateThingMutation: function() {\n        return useUpdateThingMutation;\n    },\n    typeDefs: function() {\n        return typeDefs;\n    }\n});\nvar _client = /*#__PURE__*/ _interopRequireWildcard(require(\"@apollo/client\"));\nfunction _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) {\n        return obj;\n    }\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n        return {\n            default: obj\n        };\n    }\n    var cache = _getRequireWildcardCache(nodeInterop);\n    if (cache && cache.has(obj)) {\n        return cache.get(obj);\n    }\n    var newObj = {};\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for(var key in obj){\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) {\n                Object.defineProperty(newObj, key, desc);\n            } else {\n                newObj[key] = obj[key];\n            }\n        }\n    }\n    newObj.default = obj;\n    if (cache) {\n        cache.set(obj, newObj);\n    }\n    return newObj;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === \"function\") {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        });\n    }\n    return target;\n}\nfunction _taggedTemplateLiteral(strings, raw) {\n    if (!raw) {\n        raw = strings.slice(0);\n    }\n    return Object.freeze(Object.defineProperties(strings, {\n        raw: {\n            value: Object.freeze(raw)\n        }\n    }));\n}\nfunction _templateObject() {\n    var data = _taggedTemplateLiteral([\n        \"\\n    mutation CreateTag($category: String!, $name: String!) {\\n  createTag(category: $category, name: $name) {\\n    id\\n    name\\n    category {\\n      id\\n      name\\n    }\\n  }\\n}\\n    \"\n    ]);\n    _templateObject = function _templateObject() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject1() {\n    var data = _taggedTemplateLiteral([\n        \"\\n    mutation CreateThing($name: String!, $description: String!, $tags: [String!]!, $category: String!) {\\n  createThing(\\n    name: $name\\n    description: $description\\n    tags: $tags\\n    category: $category\\n  ) {\\n    id\\n    name\\n    description\\n    category {\\n      id\\n      name\\n    }\\n    tags {\\n      id\\n      name\\n    }\\n  }\\n}\\n    \"\n    ]);\n    _templateObject1 = function _templateObject1() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject2() {\n    var data = _taggedTemplateLiteral([\n        \"\\n    query GetCategories {\\n  categories {\\n    id\\n    name\\n  }\\n}\\n    \"\n    ]);\n    _templateObject2 = function _templateObject2() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject3() {\n    var data = _taggedTemplateLiteral([\n        \"\\n    query GetCategory($categoryId: String!) {\\n  category(categoryId: $categoryId) {\\n    id\\n    name\\n  }\\n}\\n    \"\n    ]);\n    _templateObject3 = function _templateObject3() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject4() {\n    var data = _taggedTemplateLiteral([\n        \"\\n    query TagsByCategory($categoryId: String!) {\\n  tagsByCategory(categoryId: $categoryId) {\\n    id\\n    name\\n    category {\\n      id\\n      name\\n    }\\n  }\\n}\\n    \"\n    ]);\n    _templateObject4 = function _templateObject4() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject5() {\n    var data = _taggedTemplateLiteral([\n        \"\\n    query GetTags {\\n  tags {\\n    id\\n    name\\n    category {\\n      id\\n      name\\n    }\\n  }\\n}\\n    \"\n    ]);\n    _templateObject5 = function _templateObject5() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject6() {\n    var data = _taggedTemplateLiteral([\n        \"\\n    query GetThingsTagsCategories {\\n  categories {\\n    id\\n    name\\n  }\\n  tags {\\n    id\\n    name\\n    category {\\n      id\\n      name\\n    }\\n  }\\n  things {\\n    id\\n    name\\n    description\\n    tags {\\n      id\\n      name\\n      category {\\n        id\\n        name\\n      }\\n    }\\n    category {\\n      id\\n      name\\n    }\\n  }\\n}\\n    \"\n    ]);\n    _templateObject6 = function _templateObject6() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject7() {\n    var data = _taggedTemplateLiteral([\n        \"\\n    mutation UpdateThing($id: String!, $name: String!, $description: String!, $tags: [String!]!, $category: String!) {\\n  updateThing(\\n    id: $id\\n    name: $name\\n    description: $description\\n    tags: $tags\\n    category: $category\\n  ) {\\n    id\\n    name\\n    description\\n    category {\\n      id\\n      name\\n    }\\n    tags {\\n      id\\n      name\\n    }\\n  }\\n}\\n    \"\n    ]);\n    _templateObject7 = function _templateObject7() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject8() {\n    var data = _taggedTemplateLiteral([\n        \"schema{query:Query mutation:Mutation}type Category{id:String!name:String!}type Mutation{createTag(category:String!name:String!):Tag!createThing(category:String!description:String!name:String!tags:[String!]!):Thing!updateThing(category:String!description:String!id:String!name:String!tags:[String!]!):Thing!}type Query{categories:[Category!]!category(categoryId:String!):Category!tags:[Tag!]!tagsByCategory(categoryId:String!):[Tag!]!things:[Thing!]!}type Tag{category:Category!id:String!name:String!}type Thing{category:Category!description:String!id:String!name:String!tags:[Tag!]!}\"\n    ]);\n    _templateObject8 = function _templateObject8() {\n        return data;\n    };\n    return data;\n}\nvar defaultOptions = {};\nvar CreateTagDocument = (0, _client.gql)(_templateObject());\nfunction useCreateTagMutation(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useMutation(CreateTagDocument, options);\n}\nvar CreateThingDocument = (0, _client.gql)(_templateObject1());\nfunction useCreateThingMutation(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useMutation(CreateThingDocument, options);\n}\nvar GetCategoriesDocument = (0, _client.gql)(_templateObject2());\nfunction useGetCategoriesQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useQuery(GetCategoriesDocument, options);\n}\nfunction useGetCategoriesLazyQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useLazyQuery(GetCategoriesDocument, options);\n}\nvar GetCategoryDocument = (0, _client.gql)(_templateObject3());\nfunction useGetCategoryQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useQuery(GetCategoryDocument, options);\n}\nfunction useGetCategoryLazyQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useLazyQuery(GetCategoryDocument, options);\n}\nvar TagsByCategoryDocument = (0, _client.gql)(_templateObject4());\nfunction useTagsByCategoryQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useQuery(TagsByCategoryDocument, options);\n}\nfunction useTagsByCategoryLazyQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useLazyQuery(TagsByCategoryDocument, options);\n}\nvar GetTagsDocument = (0, _client.gql)(_templateObject5());\nfunction useGetTagsQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useQuery(GetTagsDocument, options);\n}\nfunction useGetTagsLazyQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useLazyQuery(GetTagsDocument, options);\n}\nvar GetThingsTagsCategoriesDocument = (0, _client.gql)(_templateObject6());\nfunction useGetThingsTagsCategoriesQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useQuery(GetThingsTagsCategoriesDocument, options);\n}\nfunction useGetThingsTagsCategoriesLazyQuery(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useLazyQuery(GetThingsTagsCategoriesDocument, options);\n}\nvar UpdateThingDocument = (0, _client.gql)(_templateObject7());\nfunction useUpdateThingMutation(baseOptions) {\n    var options = _objectSpread({}, defaultOptions, baseOptions);\n    return _client.useMutation(UpdateThingDocument, options);\n}\nvar typeDefs = (0, _client.gql)(_templateObject8());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"resolvers\", {\n    enumerable: true,\n    get: function() {\n        return resolvers;\n    }\n});\nvar _database = require(\"@ttd/database\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _asyncToGenerator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\nvar __generator = (void 0) && (void 0).__generator || function(thisArg, body) {\n    var f, y, t, g, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    };\n    return g = {\n        next: verb(0),\n        \"throw\": verb(1),\n        \"return\": verb(2)\n    }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(_)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n};\nvar resolvers = {\n    Query: {\n        categories: /*#__PURE__*/ _asyncToGenerator(function() {\n            var res;\n            return __generator(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            _database.Categories.getInstance().getAll()\n                        ];\n                    case 1:\n                        res = _state.sent();\n                        console.log(res);\n                        return [\n                            2,\n                            res\n                        ];\n                }\n            });\n        }),\n        category: function() {\n            var _ref = _asyncToGenerator(function(_, args) {\n                return __generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            return [\n                                4,\n                                _database.Categories.getInstance().getById(args.categoryId)\n                            ];\n                        case 1:\n                            return [\n                                2,\n                                _state.sent()\n                            ];\n                    }\n                });\n            });\n            return function(_, args) {\n                return _ref.apply(this, arguments);\n            };\n        }(),\n        tagsByCategory: function() {\n            var _ref = _asyncToGenerator(function(_, args) {\n                var res;\n                return __generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            return [\n                                4,\n                                _database.Tags.getInstance().getByCategoryId(args.categoryId)\n                            ];\n                        case 1:\n                            res = _state.sent();\n                            console.log(res);\n                            return [\n                                2,\n                                res\n                            ];\n                    }\n                });\n            });\n            return function(_, args) {\n                return _ref.apply(this, arguments);\n            };\n        }(),\n        tags: /*#__PURE__*/ _asyncToGenerator(function() {\n            var res;\n            return __generator(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            _database.Tags.getInstance().getAll()\n                        ];\n                    case 1:\n                        res = _state.sent();\n                        console.log(res === null || res === void 0 ? void 0 : res.map(function(r) {\n                            return r.category;\n                        }));\n                        return [\n                            2,\n                            res\n                        ];\n                }\n            });\n        }),\n        things: /*#__PURE__*/ _asyncToGenerator(function() {\n            var res;\n            return __generator(this, function(_state) {\n                switch(_state.label){\n                    case 0:\n                        return [\n                            4,\n                            _database.Things.getInstance().getAll()\n                        ];\n                    case 1:\n                        res = _state.sent();\n                        // console.log(res?.map((r) => r.tags));\n                        console.log(res[0]);\n                        return [\n                            2,\n                            res\n                        ];\n                }\n            });\n        })\n    },\n    Mutation: {\n        createTag: function() {\n            var _ref = _asyncToGenerator(function(_, args) {\n                return __generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            return [\n                                4,\n                                _database.Tags.getInstance().create(args)\n                            ];\n                        case 1:\n                            return [\n                                2,\n                                _state.sent()\n                            ];\n                    }\n                });\n            });\n            return function(_, args) {\n                return _ref.apply(this, arguments);\n            };\n        }(),\n        createThing: function() {\n            var _ref = _asyncToGenerator(function(_, args) {\n                var res;\n                return __generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            return [\n                                4,\n                                _database.Things.getInstance().create(args)\n                            ];\n                        case 1:\n                            res = _state.sent();\n                            console.log(res);\n                            return [\n                                2,\n                                res\n                            ];\n                    }\n                });\n            });\n            return function(_, args) {\n                return _ref.apply(this, arguments);\n            };\n        }(),\n        updateThing: function() {\n            var _ref = _asyncToGenerator(function(_, args) {\n                var id, updatedThing, res;\n                return __generator(this, function(_state) {\n                    switch(_state.label){\n                        case 0:\n                            id = args.id, updatedThing = _objectWithoutProperties(args, [\n                                \"id\"\n                            ]);\n                            return [\n                                4,\n                                _database.Things.getInstance().update(id, args)\n                            ];\n                        case 1:\n                            res = _state.sent();\n                            console.log(res);\n                            return [\n                                2,\n                                res\n                            ];\n                    }\n                });\n            });\n            return function(_, args) {\n                return _ref.apply(this, arguments);\n            };\n        }()\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tags = exports.Categories = exports.Things = void 0;\nvar things_1 = require(\"./things\");\nObject.defineProperty(exports, \"Things\", { enumerable: true, get: function () { return things_1.Things; } });\nvar categories_1 = require(\"./categories\");\nObject.defineProperty(exports, \"Categories\", { enumerable: true, get: function () { return categories_1.Categories; } });\nvar tags_1 = require(\"./tags\");\nObject.defineProperty(exports, \"Tags\", { enumerable: true, get: function () { return tags_1.Tags; } });\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Things = void 0;\nvar conn_1 = require(\"./conn\");\nvar mongodb_1 = require(\"mongodb\");\nvar collections_1 = require(\"./collections\");\nvar aggregations_1 = require(\"./aggregations\");\nvar Things = /** @class */ (function () {\n    function Things() {\n        this.db = null;\n    }\n    Things.getInstance = function () {\n        if (!Things.instance) {\n            Things.instance = new Things();\n        }\n        return Things.instance;\n    };\n    Things.prototype.getDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!!this.db) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, conn_1.connection.getDb()];\n                    case 1:\n                        _a.db = (_b.sent()).collection(collections_1.Collections.Things);\n                        _b.label = 2;\n                    case 2: return [2 /*return*/, this.db];\n                }\n            });\n        });\n    };\n    Things.prototype.getAll = function (category) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (category) {\n                            throw new Error(\"Error -- fetching Things by category has not been implemented!\");\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 2: return [2 /*return*/, (_a.sent()).aggregate(__spreadArray(__spreadArray(__spreadArray([], aggregations_1.ReplaceIdField, true), (0, aggregations_1.TagLookup)((0, aggregations_1.CategoryLookup)()), true), (0, aggregations_1.CategoryLookup)(), true)).toArray()];\n                    case 3:\n                        err_1 = _a.sent();\n                        throw new Error(\"Error when fetching Things. \".concat(err_1));\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Things.prototype.getById = function (_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [2 /*return*/, (_a.sent())\n                            .aggregate(__spreadArray(__spreadArray(__spreadArray([{ $match: { _id: new mongodb_1.ObjectId(_id) } }], aggregations_1.ReplaceIdField, true), (0, aggregations_1.CategoryLookup)(), true), (0, aggregations_1.TagLookup)(), true))\n                            .next()];\n                    case 2:\n                        err_2 = _a.sent();\n                        throw new Error(\"Error when fetching Thing. \".concat(err_2));\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Things.prototype.update = function (_id, updatedThing) {\n        return __awaiter(this, void 0, void 0, function () {\n            var updateAttempt, err_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [4 /*yield*/, (_a.sent()).findOneAndUpdate({ _id: new mongodb_1.ObjectId(_id) }, {\n                            $set: __assign(__assign({}, updatedThing), { tags: updatedThing.tags.map(function (tag) { return new mongodb_1.ObjectId(tag); }), category: new mongodb_1.ObjectId(updatedThing.category) }),\n                        }, { upsert: false })];\n                    case 2:\n                        updateAttempt = _a.sent();\n                        if (updateAttempt.ok) {\n                            return [2 /*return*/, this.getById(_id)];\n                        }\n                        throw updateAttempt.lastErrorObject;\n                    case 3:\n                        err_3 = _a.sent();\n                        throw new Error(\"Error when updating Thing. \".concat(err_3));\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Things.prototype.create = function (thing) {\n        return __awaiter(this, void 0, void 0, function () {\n            var insertAttempt, err_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [4 /*yield*/, (_a.sent()).insertOne(__assign(__assign({}, thing), { tags: thing.tags.map(function (tag) { return new mongodb_1.ObjectId(tag); }), category: new mongodb_1.ObjectId(thing.category) }))];\n                    case 2:\n                        insertAttempt = _a.sent();\n                        if (insertAttempt.acknowledged) {\n                            return [2 /*return*/, this.getById(insertAttempt.insertedId.toString())];\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_4 = _a.sent();\n                        throw new Error(\"Error when creating new Thing. \".concat(err_4));\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Things.prototype.delete = function (_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_5;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 4, , 5]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [4 /*yield*/, (_a.sent()).deleteOne({ _id: _id })];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, this.getDb()];\n                    case 3: return [2 /*return*/, (_a.sent()).find({}).toArray()];\n                    case 4:\n                        err_5 = _a.sent();\n                        throw new Error(\"Error when deleting Thing. \".concat(err_5));\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Things;\n}());\nexports.Things = Things;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 513;","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Categories = void 0;\nvar conn_1 = require(\"./conn\");\nvar mongodb_1 = require(\"mongodb\");\nvar collections_1 = require(\"./collections\");\nvar aggregations_1 = require(\"./aggregations\");\nvar Categories = /** @class */ (function () {\n    function Categories() {\n        this.categoryQuery = __spreadArray(__spreadArray([], aggregations_1.ReplaceIdField, true), (0, aggregations_1.ThingLookup)(), true);\n        this.db = null;\n    }\n    Categories.getInstance = function () {\n        if (!Categories.instance) {\n            Categories.instance = new Categories();\n        }\n        return Categories.instance;\n    };\n    Categories.prototype.getDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!!this.db) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, conn_1.connection.getDb()];\n                    case 1:\n                        _a.db = (_b.sent()).collection(collections_1.Collections.Categories);\n                        _b.label = 2;\n                    case 2: return [2 /*return*/, this.db];\n                }\n            });\n        });\n    };\n    Categories.prototype.getAll = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [2 /*return*/, (_a.sent()).aggregate(this.categoryQuery).toArray()];\n                    case 2:\n                        err_1 = _a.sent();\n                        console.error(\"Error when fetching Categories. \".concat(err_1));\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Categories.prototype.getById = function (_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [2 /*return*/, (_a.sent()).aggregate(__spreadArray([{ $match: { _id: new mongodb_1.ObjectId(_id) } }], this.categoryQuery, true)).next()];\n                    case 2:\n                        err_2 = _a.sent();\n                        throw new Error(\"Error when fetching Category. \".concat(err_2));\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Categories.prototype.update = function (_id, updatedCategory) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [4 /*yield*/, (_a.sent()).findOneAndUpdate({ _id: new mongodb_1.ObjectId(_id) }, { $set: updatedCategory }, { upsert: false })];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/, this.getAll()];\n                    case 3:\n                        err_3 = _a.sent();\n                        throw new Error(\"Error when updating Category. \".concat(err_3));\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Categories.prototype.create = function (thing) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [2 /*return*/, (_a.sent()).insertOne(thing)];\n                    case 2:\n                        err_4 = _a.sent();\n                        throw new Error(\"Error when creating new Category. \".concat(err_4));\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Categories.prototype.delete = function (_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_5;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 4, , 5]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [4 /*yield*/, (_a.sent()).deleteOne({ _id: new mongodb_1.ObjectId(_id) })];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, this.getDb()];\n                    case 3: return [2 /*return*/, (_a.sent()).find({}).toArray()];\n                    case 4:\n                        err_5 = _a.sent();\n                        throw new Error(\"Error when deleting Category. \".concat(err_5));\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Categories;\n}());\nexports.Categories = Categories;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tags = void 0;\nvar conn_1 = require(\"./conn\");\nvar mongodb_1 = require(\"mongodb\");\nvar collections_1 = require(\"./collections\");\nvar aggregations_1 = require(\"./aggregations\");\nvar Tags = /** @class */ (function () {\n    function Tags() {\n        this.db = null;\n    }\n    Tags.getInstance = function () {\n        if (!Tags.instance) {\n            Tags.instance = new Tags();\n        }\n        return Tags.instance;\n    };\n    Tags.prototype.getDb = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!!this.db) return [3 /*break*/, 2];\n                        _a = this;\n                        return [4 /*yield*/, conn_1.connection.getDb()];\n                    case 1:\n                        _a.db = (_b.sent()).collection(collections_1.Collections.Tags);\n                        _b.label = 2;\n                    case 2: return [2 /*return*/, this.db];\n                }\n            });\n        });\n    };\n    Tags.prototype.getAll = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [2 /*return*/, (_a.sent()).aggregate(__spreadArray(__spreadArray([], aggregations_1.ReplaceIdField, true), (0, aggregations_1.CategoryLookup)(), true)).toArray()];\n                    case 2:\n                        err_1 = _a.sent();\n                        console.error(\"Error when fetching Tags. \".concat(err_1));\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Tags.prototype.getById = function (_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [2 /*return*/, (_a.sent())\n                            .aggregate(__spreadArray(__spreadArray([{ $match: { _id: new mongodb_1.ObjectId(_id) } }], aggregations_1.ReplaceIdField, true), (0, aggregations_1.CategoryLookup)(), true))\n                            .next()];\n                    case 2:\n                        err_2 = _a.sent();\n                        throw new Error(\"Error when fetching Tag. \".concat(err_2));\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Tags.prototype.getByCategoryId = function (_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_3;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [2 /*return*/, (_b.sent())\n                            .aggregate(__spreadArray(__spreadArray([{ $match: (_a = {}, _a[collections_1.TagFields.Category] = new mongodb_1.ObjectId(_id), _a) }], aggregations_1.ReplaceIdField, true), (0, aggregations_1.CategoryLookup)(), true))\n                            .toArray()];\n                    case 2:\n                        err_3 = _b.sent();\n                        throw new Error(\"Error when fetching Tags by Category. \".concat(err_3));\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Tags.prototype.update = function (_id, updatedTag) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [4 /*yield*/, (_a.sent()).findOneAndUpdate({ _id: _id }, { $set: updatedTag }, { upsert: false })];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/, this.getAll()];\n                    case 3:\n                        err_4 = _a.sent();\n                        throw new Error(\"Error when updating Tag. \".concat(err_4));\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Tags.prototype.create = function (tag) {\n        return __awaiter(this, void 0, void 0, function () {\n            var insertAttempt, err_5;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [4 /*yield*/, (_a.sent()).insertOne(__assign(__assign({}, tag), { category: new mongodb_1.ObjectId(tag.category) }), {})];\n                    case 2:\n                        insertAttempt = _a.sent();\n                        if (insertAttempt.acknowledged) {\n                            return [2 /*return*/, this.getById(insertAttempt.insertedId.toString())];\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_5 = _a.sent();\n                        throw new Error(\"Error when creating new Tag. \".concat(err_5));\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Tags.prototype.delete = function (_id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var err_6;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 4, , 5]);\n                        return [4 /*yield*/, this.getDb()];\n                    case 1: return [4 /*yield*/, (_a.sent()).deleteOne({ _id: _id })];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, this.getDb()];\n                    case 3: return [2 /*return*/, (_a.sent()).find({}).toArray()];\n                    case 4:\n                        err_6 = _a.sent();\n                        throw new Error(\"Error when deleting Tag. \".concat(err_6));\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Tags;\n}());\nexports.Tags = Tags;\n","import { StateCreator } from \"zustand\";\n\nexport enum Modal {\n  Loading = \"loading\",\n  Error = \"error\",\n}\n\nexport interface ModalsSlice {\n  modals: Modal[];\n  message: string;\n  openModal: (modals: Modal) => void;\n  closeModal: (modal: Modal) => void;\n}\n\nexport const createModalsSlice: StateCreator<ModalsSlice, [], [], ModalsSlice> = (set) => ({\n  modals: [],\n  message: \"\",\n  openModal: (modal: Modal, message?: string) =>\n    set((state) => {\n      const { modals } = state;\n      const idx = modals.findIndex((stateModal) => stateModal === modal);\n\n      if (idx >= 0) {\n        console.warn(`-WARNING- '${modal}' modal is already opened, not opening another`);\n        return { modals, message };\n      }\n\n      return { modals: [...modals, modal], message };\n    }),\n  closeModal: (modal: Modal) =>\n    set((state) => {\n      const { modals } = state;\n      const idx = modals.findIndex((stateModal) => stateModal === modal);\n\n      if (idx < 0) {\n        console.warn(`-WARNING- '${modal}' modal is not opened, not closing anything`);\n        return { modals };\n      }\n\n      return { modals: [...modals.slice(0, idx), ...modals.slice(idx + 1)] };\n    }),\n  closeAllModals: () => set({ modals: [], message: \"\" }),\n});\n","import { AppBar as MuiAppBar, styled, SxProps, Theme, Toolbar, Typography } from \"@mui/material\";\nimport React from \"react\";\n\ninterface IAppBarProps {\n  title?: string;\n  disableGutters?: boolean;\n  toolbarSx?: SxProps<Theme>;\n  leftLinkTitle?: string;\n  onLeftLinkClick?: () => void;\n  rightLinkTitle?: string;\n  onRightLinkClick?: () => void;\n}\n\nconst Offset = styled(\"div\")(({ theme }) => theme.mixins.toolbar);\n\nexport const AppBar: React.FC<React.PropsWithChildren<IAppBarProps>> = (props) => {\n  const { toolbarSx, onLeftLinkClick, leftLinkTitle, onRightLinkClick, rightLinkTitle, title } = props;\n  return (\n    <>\n      <MuiAppBar>\n        <Toolbar sx={{ justifyContent: \"center\", ...toolbarSx }} disableGutters>\n          {onLeftLinkClick && (\n            <Typography sx={{ position: \"absolute\", left: \"10px\" }} onClick={onLeftLinkClick}>\n              {leftLinkTitle}\n            </Typography>\n          )}\n          <Typography fontSize={28}>{title || \"Things to Do\"}</Typography>\n          {onRightLinkClick && (\n            <Typography sx={{ position: \"absolute\", right: \"10px\" }} onClick={onRightLinkClick}>\n              {rightLinkTitle}\n            </Typography>\n          )}\n        </Toolbar>\n      </MuiAppBar>\n      <Offset sx={{ marginTop: \"10px\" }} />\n    </>\n  );\n};\n","import { Category } from \"@ttd/graphql\";\nimport create, { StateCreator } from \"zustand\";\n\nexport interface CategoriesSlice {\n  categories: Category[];\n  setCategories: (categories: Category[]) => void;\n  currentCategory: Category | null;\n  setCurrentCategory: (category: Category) => void;\n}\n\nexport const createCategoriesSlice: StateCreator<CategoriesSlice, [], [], CategoriesSlice> = (set) => ({\n  categories: [],\n  setCategories: (categories: Category[]) => set({ categories }),\n  currentCategory: null,\n  setCurrentCategory: (category: Category) => set({ currentCategory: category }),\n});\n","import create, { StateCreator } from \"zustand\";\nimport { Category, Tag } from \"@ttd/graphql\";\n\nexport interface TagsSlice {\n  tags: Tag[];\n  setTags: (tags: Tag[]) => void;\n}\n\nexport const createTagsSlice: StateCreator<TagsSlice, [], [], TagsSlice> = (set) => ({\n  tags: [],\n  setTags: (tags: Tag[]) => set({ tags }),\n});\n","import { Category, Thing } from \"@ttd/graphql\";\nimport create, { StateCreator } from \"zustand\";\n\nexport interface ThingsSlice {\n  things: Thing[];\n  setThings: (things: Thing[]) => void;\n  currentThing: Thing | null;\n  setCurrentThing: (currentThing: Thing | null) => void;\n}\n\nexport const createThingsSlice: StateCreator<ThingsSlice, [], [], ThingsSlice> = (set) => ({\n  things: [],\n  setThings: (things: Thing[]) => {\n    console.log(\"wtf\");\n    return set({ things });\n  },\n  currentThing: null,\n  setCurrentThing: (currentThing: Thing | null) => set({ currentThing }),\n});\n","import create from \"zustand\";\nimport { CategoriesSlice, createCategoriesSlice } from \"./categories\";\nimport { createModalsSlice, ModalsSlice } from \"./modals\";\nimport { createTagsSlice, TagsSlice } from \"./tags\";\nimport { createThingsSlice, ThingsSlice } from \"./things\";\n\nexport const useStore = create<CategoriesSlice & ModalsSlice & TagsSlice & ThingsSlice>()((...a) => ({\n  ...createCategoriesSlice(...a),\n  ...createModalsSlice(...a),\n  ...createTagsSlice(...a),\n  ...createThingsSlice(...a),\n}));\n","import { Avatar, Box, Typography } from \"@mui/material\";\nimport { RadioButtonUnchecked } from \"@mui/icons-material\";\nimport React from \"react\";\nimport { Category } from \"@ttd/graphql\";\nimport { useNavigate } from \"react-router\";\nimport { useStore } from \"../store\";\n\ninterface ICategoryItemProps {\n  category: Category;\n}\n\nexport const CategoryItem: React.FC<ICategoryItemProps> = (props) => {\n  const { category } = props;\n  const navigate = useNavigate();\n  const { setCurrentCategory, things } = useStore();\n\n  const handleClick = () => {\n    setCurrentCategory(category);\n    navigate(`category/${category.id}`, { state: { category } });\n  };\n\n  const categoryThings = React.useMemo(() => things.filter((thing) => thing.category.id === category.id), [things, category]);\n\n  return (\n    <Box sx={{ display: \"flex\", alignItems: \"center\", margin: \"2% 5% 2% 5%\" }} onClick={handleClick}>\n      <RadioButtonUnchecked sx={{ color: \"primary.main\", width: \"30px\", height: \"30px\", marginRight: \"10px\" }} />\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", width: \"100%\", alignItems: \"center\" }}>\n        <Typography fontSize=\"24px\" height=\"100%\">\n          {category.name}\n        </Typography>\n        <Avatar sx={{ width: \"30px\", height: \"30px\" }}>{categoryThings.length}</Avatar>\n      </div>\n    </Box>\n  );\n};\n","import { CircularProgress, Dialog, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { useStore } from \"../store\";\nimport { Modal } from \"../store/modals\";\n\nexport const LoadingModal: React.FC = () => {\n  const { modals, message } = useStore();\n\n  return (\n    <Dialog open={modals.includes(Modal.Loading)}>\n      <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\n        <CircularProgress sx={{ margin: \"30px 15px 15px 15px\" }} size={60} color=\"secondary\" />\n        <Typography sx={{ margin: \"15px\" }} fontSize={24}>\n          {message || \"Loading, please wait\"}\n        </Typography>\n      </div>\n    </Dialog>\n  );\n};\n","import React from \"react\";\nimport { useStore } from \"../store\";\nimport { LoadingModal } from \"./LoadingModal\";\n\nexport const PageWrapper: React.FC<React.PropsWithChildren> = (props) => {\n  const { modals, closeModal } = useStore();\n\n  return (\n    <>\n      <LoadingModal />\n      {props.children}\n    </>\n  );\n};\n","import { Divider, styled, Typography } from \"@mui/material\";\nimport React from \"react\";\nimport { AppBar } from \"../components/AppBar\";\nimport { CategoryItem } from \"../components/CategoryItem\";\nimport { PageWrapper } from \"../components/PageWrapper\";\nimport { useStore } from \"../store\";\n\ninterface ICategoriesProps {\n  loading: boolean;\n}\n\nexport const Categories: React.FC<ICategoriesProps> = (props) => {\n  const { categories } = useStore();\n\n  return (\n    <PageWrapper>\n      <AppBar />\n\n      <Typography sx={{ marginLeft: \"5px\" }} fontSize={32}>\n        Categories\n      </Typography>\n      {categories.map((category, idx) => (\n        <div key={category.id} style={{ margin: \"0 10% 0 10%\" }}>\n          <CategoryItem category={category} />\n          {categories.length > 1 && idx < categories.length - 1 ? <Divider /> : null}\n        </div>\n      ))}\n    </PageWrapper>\n  );\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { HighlightOff } from \"@mui/icons-material\";\nimport { Box, SxProps, Theme, Typography } from \"@mui/material\";\nimport { Tag as TagType } from \"@ttd/graphql\";\nimport React from \"react\";\n\ntype TagProps = {\n  sx?: SxProps<Theme>;\n  onClose?: (tag: TagType) => void;\n  onClick?: () => void;\n  active?: boolean;\n};\n\ntype OptionalTagProps =\n  | {\n      tag: TagType;\n      creating?: false | undefined;\n      onBlur?: never;\n    }\n  | {\n      tag: string;\n      creating: true;\n      onBlur?: (name: string) => void;\n    };\n\nexport const Tag: React.FC<TagProps & OptionalTagProps> = (props) => {\n  const { tag, sx, onClose, active, onClick, creating, onBlur } = props;\n  const newTagRef = React.useRef<HTMLSpanElement | null>(null);\n  const [newTagName, setNewTagName] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (newTagRef.current) {\n      newTagRef.current.focus();\n    }\n  }, [newTagRef]);\n\n  return (\n    <Box\n      fontSize={14}\n      onClick={() => onClick && onClick()}\n      sx={{\n        borderWidth: \"2px\",\n        borderStyle: \"solid\",\n        borderColor: active || creating ? \"secondary.main\" : \"primary.main\",\n        display: \"flex\",\n        padding: \"0px 5px 0px 5px\",\n        borderRadius: \"8px\",\n        ...sx,\n      }}\n    >\n      {/* Since undefined is falsy and 'creating' is optional, we have to explicitly check against false */}\n      {!creating ? (\n        <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\n          <Typography sx={{ whiteSpace: \"nowrap\" }} color={active ? \"secondary.main\" : \"text.primary\"}>\n            {tag.name}\n          </Typography>\n          {onClose && <HighlightOff onClick={() => onClose(tag)} />}\n        </div>\n      ) : (\n        <div style={{ display: \"flex\", flexDirection: \"row\", alignItems: \"center\" }}>\n          <Typography\n            sx={{ whiteSpace: \"nowrap\" }}\n            color=\"secondary.main\"\n            suppressContentEditableWarning\n            contentEditable\n            ref={newTagRef}\n            onChange={(e) => console.log(e)}\n            onBlur={() => onBlur && onBlur(newTagRef.current!.textContent || \"\")} // TODO: See if there is a better way to do this\n          ></Typography>\n        </div>\n      )}\n    </Box>\n  );\n};\n","import { Typography } from \"@mui/material\";\nimport { MoreHoriz, RadioButtonUnchecked } from \"@mui/icons-material\";\nimport React from \"react\";\nimport { Thing as ThingType } from \"@ttd/graphql\";\nimport { Tag } from \"./Tag\";\n\ninterface IThingProps {\n  thing: ThingType;\n  onClickMore?: () => void;\n}\n\nexport const Thing: React.FC<IThingProps> = (props) => {\n  const { thing, onClickMore } = props;\n\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\", marginBottom: \"10px\", position: \"relative\" }} draggable>\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\n        <RadioButtonUnchecked sx={{ color: \"primary.main\", width: \"30px\", height: \"30px\", marginRight: \"10px\" }} />\n        <Typography fontSize={24}>{thing.name}</Typography>\n        <div style={{ marginLeft: \"auto\" }}>\n          <MoreHoriz\n            sx={{ marginRight: \"25px\" }}\n            onClick={(e) => {\n              e.preventDefault();\n              onClickMore && onClickMore();\n            }}\n          />\n        </div>\n      </div>\n      <Typography>{thing.description}</Typography>\n      <div style={{ display: \"flex\", gap: \"10px\" }}>\n        {thing.tags.map((tag) => (\n          <Tag key={tag.id} tag={tag} />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import { Divider, Drawer, Fab, List, ListItem, ListItemButton, ListItemText, styled, TextField, Typography } from \"@mui/material\";\nimport { Tag as TagType, Thing as ThingType, useGetCategoryLazyQuery } from \"@ttd/graphql\";\nimport React from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\nimport { useStore } from \"../store\";\nimport { AppBar } from \"../components/AppBar\";\nimport { Thing } from \"../components/Thing\";\nimport { Modal } from \"../store/modals\";\nimport { PageWrapper } from \"../components/PageWrapper\";\nimport { Tag } from \"../components/Tag\";\nimport { Add, Search } from \"@mui/icons-material\";\n\ninterface ICategoryProps {\n  loading: boolean;\n}\n\nexport const CategoryPage: React.FC<ICategoryProps> = (props) => {\n  const { loading } = props;\n  const { categoryId } = useParams();\n  const { categories, openModal, currentCategory, setCurrentCategory, closeModal, tags, things, setCurrentThing } = useStore();\n\n  const [searchText, setSearchText] = React.useState(\"\");\n  const [selectedTags, setSelectedTags] = React.useState<TagType[]>([]);\n  const [searchBoxFocused, setSearchBoxFocused] = React.useState(false);\n  const [showMoreDrawer, setShowMoreDrawer] = React.useState(false);\n\n  const navigate = useNavigate();\n\n  const searchBoxRef = React.useRef<HTMLDivElement>(null);\n\n  const categoryTags = React.useMemo(\n    () => (!tags || !currentCategory ? [] : tags.filter((tag) => currentCategory?.id === tag.id)),\n    [tags, currentCategory]\n  );\n\n  const categoryThings = React.useMemo(\n    () => (!things || !currentCategory ? [] : things.filter((thing) => currentCategory.id === thing.category.id)),\n    [things, currentCategory]\n  );\n\n  React.useEffect(() => {\n    if (loading) {\n      openModal(Modal.Loading);\n    } else {\n      closeModal(Modal.Loading);\n    }\n  }, [loading]);\n\n  React.useEffect(() => {\n    if (categories && !loading) {\n      const _currentCategory = categories.find((category) => category.id === categoryId);\n      if (!_currentCategory) {\n        navigate(\"/error/not-found\");\n      } else {\n        setCurrentCategory(_currentCategory);\n      }\n    }\n  }, [categories, categoryId, loading]);\n\n  const getSelectableTags = () => {\n    return categoryTags.filter((tag) => selectedTags.findIndex((selectedTag) => selectedTag.id === tag.id) < 0) || [];\n  };\n\n  const onTagClick = (tag: TagType) => {\n    setSelectedTags([...selectedTags, tag]);\n    setSearchText(\"\");\n  };\n\n  const getFilteredThings = (): ThingType[] => {\n    return selectedTags.length > 0\n      ? categoryThings.filter((thing) =>\n          selectedTags.every((selectedTag) => thing.tags.findIndex((tag) => tag.id === selectedTag.id) >= 0)\n        ) || []\n      : categoryThings || [];\n  };\n\n  const removeSelectedTag = (tag: TagType) => {\n    const tagIdx = selectedTags.findIndex((_tag) => _tag.id === tag.id);\n\n    setSelectedTags([...selectedTags.slice(0, tagIdx), ...selectedTags.slice(tagIdx! + 1)]);\n  };\n\n  const onClickMore = (thing: ThingType) => {\n    setCurrentThing(thing);\n    setShowMoreDrawer(true);\n  };\n\n  return (\n    <PageWrapper>\n      <AppBar\n        onLeftLinkClick={() => (searchBoxFocused ? setSearchBoxFocused(false) : navigate(\"/\"))}\n        leftLinkTitle=\"Back\"\n        onRightLinkClick={searchBoxFocused ? () => setSearchBoxFocused(false) : undefined}\n        rightLinkTitle=\"Done\"\n        title={currentCategory?.name}\n      />\n      <div style={{ display: \"flex\", flexDirection: \"column\", marginLeft: \"10px\" }}>\n        <TextField\n          variant=\"outlined\"\n          size=\"small\"\n          sx={{ margin: \"0 10px 15px 0\", borderRadius: \"15px\" }}\n          value={searchText}\n          onChange={(e) => setSearchText(e.target.value)}\n          onFocus={() => setSearchBoxFocused(true)}\n          InputProps={{\n            startAdornment: (\n              <>\n                <Search sx={{ color: \"primary.main\" }} />\n                {selectedTags.map((tag) => (\n                  <Tag key={tag.id} tag={tag} sx={{ color: \"primary.main\" }} onClose={removeSelectedTag} />\n                ))}\n              </>\n            ),\n          }}\n          ref={searchBoxRef}\n        />\n\n        {!searchBoxFocused &&\n          getFilteredThings().map((thing, idx) => (\n            <div key={thing.id} style={{ marginBottom: \"10px\" }}>\n              <Thing thing={thing} onClickMore={() => onClickMore(thing)} />\n              {categoryThings.length! > 1 && idx < categoryThings!.length! - 1 ? <Divider sx={{ marginRight: \"20px\" }} /> : null}\n            </div>\n          ))}\n\n        {searchBoxFocused &&\n          getSelectableTags()\n            .filter((tag) => tag.name.toLowerCase().includes(searchText.toLowerCase()))\n            .map((tag, idx) => (\n              <div key={tag.name} style={{ marginBottom: \"10px\" }} onClick={() => onTagClick(tag)}>\n                <Typography>{tag.name}</Typography>\n                {categoryTags.length > 1 && idx < categoryTags.length - 1 ? <Divider sx={{ marginRight: \"20px\" }} /> : null}\n              </div>\n            ))}\n      </div>\n      <Drawer open={showMoreDrawer} anchor={\"bottom\"} onClose={() => setShowMoreDrawer(false)}>\n        <List>\n          <ListItem disablePadding>\n            <ListItemButton>\n              <ListItemText primary=\"Edit\" onClick={() => navigate(\"create\")} />\n            </ListItemButton>\n          </ListItem>\n          <ListItem disablePadding>\n            <ListItemButton>\n              <ListItemText primary=\"Delete\" secondary=\"Secondary text\" />\n            </ListItemButton>\n          </ListItem>\n        </List>\n      </Drawer>\n      <Fab color=\"secondary\" sx={{ position: \"fixed\", right: \"10px\", bottom: \"10px\" }} onClick={() => navigate(\"create\")}>\n        <Add />\n      </Fab>\n    </PageWrapper>\n  );\n};\n","import React from \"react\";\nimport { AppBar } from \"../components/AppBar\";\n\nexport const NotFound: React.FC = (props) => {\n  return (\n    <>\n      <AppBar>Things to Do</AppBar>Not found\n    </>\n  );\n};\n","import { ApolloClient, InMemoryCache } from \"@apollo/client\";\n\nexport const client = new ApolloClient({\n  uri: \"http://192.168.4.42:4000/\",\n  cache: new InMemoryCache(),\n});\n","import { TextField, Typography } from \"@mui/material\";\nimport {\n  CreateThingDocument,\n  Tag as TagType,\n  Thing,\n  useCreateTagMutation,\n  useCreateThingMutation,\n  useUpdateThingMutation,\n} from \"@ttd/graphql\";\nimport React, { useMemo } from \"react\";\nimport { Navigate, useNavigate, useParams } from \"react-router\";\nimport { AppBar } from \"../components/AppBar\";\nimport { PageWrapper } from \"../components/PageWrapper\";\nimport { Tag } from \"../components/Tag\";\nimport { useStore } from \"../store\";\nimport { Modal } from \"../store/modals\";\nimport { removeFromArray } from \"../utils\";\n\ninterface IThingPageProps {\n  thing?: Thing;\n}\n\nexport const ThingPage: React.FC<IThingPageProps> = (props) => {\n  const navigate = useNavigate();\n  const { categoryId } = useParams();\n  const { thing } = props;\n\n  const { currentCategory, tags, setTags, openModal, closeModal, setCurrentThing } = useStore();\n  const [\n    createTag,\n    { data: createTagData, loading: createTagLoading, error: createTagError, called: createTagCalled, reset: createTagReset },\n  ] = useCreateTagMutation();\n\n  const [\n    createThing,\n    {\n      data: createThingData,\n      loading: createThingLoading,\n      error: createThingError,\n      called: createThingCalled,\n      reset: createThingReset,\n    },\n  ] = useCreateThingMutation();\n\n  const [\n    updateThing,\n    {\n      data: updateThingData,\n      loading: updateThingLoading,\n      error: updateThingError,\n      called: updateThingCalled,\n      reset: updateThingReset,\n    },\n  ] = useUpdateThingMutation();\n\n  const [description, setDescription] = React.useState(thing?.description || \"\");\n  const [selectedTags, setSelectedTags] = React.useState<string[]>(thing?.tags.map((tag) => tag.id) || []);\n  const [createNewTag, setCreateNewTag] = React.useState(false);\n  const [showDuplicateTagError, setShowDuplicateTagError] = React.useState(false);\n  const [name, setName] = React.useState(thing?.name || \"\");\n\n  // if (!currentCategory) {\n  //   return <Navigate to={`/category/${categoryId}`} />;\n  // }\n\n  const categoryTags = useMemo(\n    () => (!tags || !currentCategory ? [] : tags.filter((tag) => tag.category.id === currentCategory.id)),\n    [currentCategory, tags]\n  );\n\n  React.useEffect(() => {\n    if (!createTagLoading && !createThingLoading && !updateThingLoading) {\n      closeModal(Modal.Loading);\n    } else {\n      openModal(Modal.Loading);\n    }\n  }, [createTagLoading, updateThingLoading, createThingLoading, closeModal, openModal]);\n\n  React.useEffect(() => {\n    if (!createTagLoading) {\n      if (createTagData && createTagCalled) {\n        setTags([...tags, createTagData.createTag]);\n        setSelectedTags([...selectedTags, createTagData.createTag.id]);\n        setCreateNewTag(false);\n\n        createTagReset();\n      }\n    }\n  }, [createTagLoading, setTags, setSelectedTags, createTagCalled, createTagData, createTagReset]);\n\n  React.useEffect(() => {\n    if (!createThingLoading) {\n      if (createThingData && createThingCalled) {\n        navigate(\"../\");\n        createThingReset();\n      }\n    }\n  }, [createThingLoading, createThingCalled, createThingData, createThingReset, navigate]);\n\n  React.useEffect(() => {\n    if (!updateThingLoading) {\n      if (updateThingData && updateThingCalled) {\n        navigate(\"../\");\n        updateThingReset();\n      }\n    }\n  });\n\n  const onTagClick = (tag: TagType) => {\n    const idx = selectedTags.findIndex((tagId) => tagId === tag.id);\n    if (idx > -1) {\n      setSelectedTags(removeFromArray(selectedTags, idx));\n    } else {\n      setSelectedTags([...selectedTags, tag.id]);\n    }\n  };\n\n  const onNewTagBlur = (newTagName: string) => {\n    if (categoryTags.findIndex((categoryTag) => categoryTag.name === newTagName) != -1) {\n      setShowDuplicateTagError(true);\n    } else if (newTagName && categoryTags.findIndex((categoryTag) => categoryTag.name === newTagName) === -1) {\n      setShowDuplicateTagError(false);\n      createTag({ variables: { category: currentCategory!.id, name: newTagName } });\n    } else {\n      setCreateNewTag(false);\n    }\n  };\n\n  const onSaveClicked = () => {\n    if (thing) {\n      updateThing({\n        variables: {\n          id: thing.id,\n          description: description || thing.description,\n          name: name || thing.name,\n          tags: selectedTags || thing.tags.map((tag) => tag.id),\n          category: currentCategory!.id!,\n        },\n      });\n    } else {\n      createThing({\n        variables: { description, name, tags: selectedTags, category: currentCategory!.id! },\n        update: (cache, { data }) => {\n          cache.modify({\n            fields: {\n              things(existingThings = []) {\n                const newThing = data?.createThing;\n                cache.writeQuery({\n                  query: CreateThingDocument,\n                  data: { newThing, ...existingThings },\n                });\n              },\n            },\n          });\n        },\n      });\n    }\n  };\n\n  const onBackClicked = () => {\n    setCurrentThing(null);\n    navigate(\"../\");\n  };\n\n  return (\n    <PageWrapper>\n      <AppBar\n        leftLinkTitle=\"Back\"\n        onLeftLinkClick={onBackClicked}\n        title=\"Create new Thing\"\n        rightLinkTitle=\"Save\"\n        onRightLinkClick={onSaveClicked}\n      />\n      <div style={{ display: \"flex\", flexDirection: \"column\", margin: \"15px 25px 0 15px\" }}>\n        <TextField\n          variant=\"standard\"\n          placeholder=\"Name\"\n          sx={{ marginBottom: \"40px\" }}\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n        />\n        <TextField\n          variant=\"outlined\"\n          placeholder=\"Description\"\n          multiline\n          sx={{ borderRadius: \"6px\" }}\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n          error={description.length > 255}\n        />\n        <Typography\n          sx={{ alignSelf: \"flex-end\", color: description.length > 255 ? \"error.main\" : \"primary.main\" }}\n        >{`${description.length} / 255`}</Typography>\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"flex-end\" }}>\n          <Typography fontSize={24}>Tags</Typography>\n          <Typography fontSize={20} onClick={() => setCreateNewTag(true)}>\n            + Add New\n          </Typography>\n        </div>\n        <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n          {categoryTags.map((tag) => (\n            <Tag\n              sx={{ marginLeft: \"3px\", marginRight: \"3px\", marginBottom: \"5px\" }}\n              tag={tag}\n              key={tag.id}\n              onClick={() => onTagClick(tag)}\n              active={selectedTags.includes(tag.id)}\n            />\n          ))}\n          {createNewTag && (\n            <Tag creating tag=\"\" sx={{ marginLeft: \"3px\", marginRight: \"3px\", marginBottom: \"5px\" }} onBlur={onNewTagBlur} />\n          )}\n        </div>\n        {showDuplicateTagError && <Typography color={\"error.main\"}>Tags must be unique!</Typography>}\n      </div>\n    </PageWrapper>\n  );\n};\n","export const removeFromArray = (arr: any[], idx: number) => {\n  return [...arr.slice(0, idx), ...arr.slice(idx + 1)];\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport { Categories } from \"./pages/Categories\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\n\nimport { ApolloProvider } from \"@apollo/client\";\nimport { createTheme, CssBaseline, ThemeProvider } from \"@mui/material\";\nimport { CategoryPage } from \"./pages/Category\";\nimport { NotFound } from \"./pages/NotFound\";\nimport { client } from \"./graphql\";\nimport { useStore } from \"./store\";\nimport { Modal } from \"./store/modals\";\nimport { ThingPage } from \"./pages/Thing\";\nimport { useGetCategoriesQuery, useGetTagsQuery, useGetThingsTagsCategoriesQuery } from \"@ttd/graphql\";\n\nconst theme = createTheme({\n  typography: {\n    fontFamily: `'Ubuntu Condensed', sans-serif`,\n  },\n  components: {\n    MuiAvatar: {\n      styleOverrides: {\n        root: {\n          backgroundColor: \"#FF005C\",\n          color: \"#ffffff\",\n        },\n      },\n    },\n    MuiDivider: {\n      styleOverrides: {\n        root: {\n          borderColor: \"#5a5a5a\",\n        },\n      },\n    },\n    MuiTextField: {\n      styleOverrides: {\n        root: ({ ownerState, theme }) => {\n          const styles = {\n            border: `1px solid ${theme.palette.primary.main}`,\n          };\n          if (ownerState.variant === \"outlined\" && !ownerState.error) {\n            return !ownerState.multiline ? { ...styles, background: \"#ffffff\" } : styles;\n          }\n        },\n      },\n    },\n    MuiOutlinedInput: {\n      styleOverrides: {\n        notchedOutline: {\n          border: \"none\",\n        },\n        root: ({ theme }) => ({\n          \"&.Mui-error\": {\n            border: `1px solid ${theme.palette.error.main}`,\n          },\n        }),\n      },\n    },\n    MuiInput: {\n      styleOverrides: {\n        root: {\n          borderRadius: \"15px !important\",\n        },\n        underline: {\n          \"::before\": {\n            borderBottom: \"1px solid #5a5a5a\",\n          },\n        },\n      },\n    },\n  },\n  palette: {\n    primary: {\n      main: \"#5a5a5a\",\n    },\n    secondary: {\n      main: \"#FF005C\",\n    },\n    error: {\n      main: \"#FF4D4D\",\n    },\n    background: {\n      default: \"#303030\",\n      paper: \"#303030\",\n    },\n    text: {\n      primary: \"#ffffff\",\n    },\n  },\n});\n\nconst App = () => {\n  const { setCategories, setTags, setThings, currentThing } = useStore();\n  const { loading, data } = useGetThingsTagsCategoriesQuery();\n\n  const [loadingData, setLoadingData] = React.useState(loading);\n\n  React.useEffect(() => {\n    console.log(data);\n  }, [data]);\n\n  React.useEffect(() => {\n    if (loading) {\n      setLoadingData(true);\n    } else if (data) {\n      setCategories(data.categories);\n      setTags(data.tags);\n      setThings(data.things);\n      setLoadingData(false);\n    }\n  }, [loading, data, setCategories, setTags, setThings]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"/\" element={<Categories loading={loadingData} />}></Route>\n          <Route path=\"category\">\n            <Route index element={<Categories loading={loadingData} />} />\n            <Route path=\":categoryId\">\n              <Route element={<CategoryPage loading={loadingData} />} index />\n              <Route path=\"create\" element={<ThingPage thing={currentThing || undefined} />} />\n            </Route>\n          </Route>\n\n          <Route path=\"/error/not-found\" element={<NotFound />}></Route>\n          <Route path=\"*\" element={<NotFound />}></Route>\n        </Routes>\n      </BrowserRouter>\n    </ThemeProvider>\n  );\n};\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\") as HTMLElement);\nroot.render(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}